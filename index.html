<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCCS Settings</title>
</head>
<body>
    <div class="main-container">
        <!-- Left Navigation Panel -->
        <nav class="navigation-panel">
            <div class="nav-header">
                <h1 data-i18n="app_name">CCCS</h1>
            </div>
            
            <div class="nav-content">
                <div class="profile-section">
                    <div class="profile-section-header">
                        <h3 data-i18n="profiles_section_title">Profiles</h3>
                        <button id="add-profile-button" class="add-profile-button" title="New Profile">
                            <span class="add-icon">+</span>
                        </button>
                    </div>
                    <ul id="profile-nav-list" class="profile-nav-list">
                        <!-- Profiles will be dynamically loaded here -->
                    </ul>
                </div>
                
                <div class="nav-footer">
                    <div class="nav-item settings-nav-item" data-profile-id="settings">
                        <span class="nav-item-text" data-i18n="settings_nav_item">Settings</span>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Right Content Panel -->
        <main class="content-panel">
            <!-- Profile Header -->
            <header class="content-header">
                <h2 id="profile-title" data-i18n="current_profile_title">Current</h2>
            </header>
            
            <!-- Content Area -->
            <div class="content-area">
                <!-- JSON Editor View -->
                <div id="json-editor-view" class="content-view">
                    <div class="view-content">
                        <div class="editor-header">
                            <h3 class="editor-title" data-i18n="json_editor_title">Configuration Editor</h3>
                            <p class="editor-hint" data-i18n="json_editor_hint">Edit your configuration in JSON format</p>
                        </div>
                        
                        <div class="editor-main">
                            <textarea id="json-editor" class="json-editor" spellcheck="false" data-i18n-placeholder="json_editor_placeholder">Loading...</textarea>
                        </div>
                    </div>
                    
                    <div class="view-footer">
                        <div class="editor-controls">
                            <button id="save-button" class="primary-button" data-i18n="save_button">
                                <span class="button-icon">üíæ</span>
                                <span class="button-text">Save</span>
                            </button>
                            <button id="apply-profile-button" class="primary-button" data-i18n="apply_profile_button" style="display: none;">
                                <span class="button-icon">üíæ‚ú®</span>
                                <span class="button-text">Save and Apply</span>
                            </button>
                            <button id="save-as-button" class="secondary-button" data-i18n="save_as_button">
                                <span class="button-icon">üìÑ</span>
                                <span class="button-text">Save As...</span>
                            </button>
                            <button id="delete-button" class="danger-button" data-i18n="delete_button" style="display: none;">
                                <span class="button-icon">üóëÔ∏è</span>
                                <span class="button-text">Delete Profile</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Settings View -->
                <div id="settings-view" class="content-view" style="display: none;">
                    <!-- Top Section: Application Information -->
                    <div class="settings-top-section">
                        <section class="app-info-section">
                            <h2 data-i18n="app_info_title">Application Information</h2>
                            <div class="separator"></div>
                            <p data-i18n="app_description">
                                CCCS (Claude Code Configuration Switcher) is a tool for quickly switching Claude Code configuration files.
                            </p>
                            <div class="status-items">
                                <div class="status-item">
                                    <span class="status-label" data-i18n="claude_directory_label">Claude Code directory:</span>
                                    <span class="status-value" id="claude-directory">~/.claude</span>
                                </div>
                                <div class="status-item">
                                    <span class="status-label" data-i18n="profiles_found_label">Configuration files found:</span>
                                    <span class="status-value" id="profiles-count">0</span>
                                </div>
                            </div>
                            
                            <!-- Developer Information -->
                            <section class="developer-info-section">
                                <h3 data-i18n="developer_info_title">Developer Information</h3>
                                <div class="separator"></div>
                                <div class="developer-content">
                                    <div class="developer-item">
                                        <span class="developer-label" data-i18n="project_repository_label">Project Repository:</span>
                                        <span class="repository-url">https://github.com/breakstring/cccs</span>
                                    </div>
                                    <div class="developer-item">
                                        <span class="developer-label" data-i18n="license_label">License:</span>
                                        <span class="license-info">
                                            <span class="license-badge">MIT</span>
                                            <span class="license-description" data-i18n="license_description">Open source under MIT license</span>
                                        </span>
                                    </div>
                                </div>
                            </section>
                            
                            <!-- Language Settings -->
                            <section class="language-settings-top-section">
                                <h3 data-i18n="language_settings_title">Language Settings</h3>
                                <div class="separator"></div>
                                <div class="setting-item">
                                    <label for="language-select" data-i18n="interface_language_label">Interface language:</label>
                                    <select id="language-select">
                                        <option value="" data-i18n="follow_system">Follow system</option>
                                        <option value="zh" data-i18n="chinese">‰∏≠Êñá</option>
                                        <option value="en" data-i18n="english">English</option>
                                    </select>
                                </div>
                            </section>
                        </section>
                    </div>

                    <!-- Middle Section: Left-Right Split Layout -->
                    <div class="settings-middle-section">
                        <!-- Left Panel: Field Exclusion Settings -->
                        <div class="settings-left-panel">
                            <section class="field-exclusion-section">
                                <h3 data-i18n="field_exclusion_title">Field Exclusion Settings</h3>
                                <div class="separator"></div>
                                <p class="section-description" data-i18n="field_exclusion_description">
                                    Configure which fields to ignore when comparing profiles with current settings.
                                </p>
                                
                                <div class="field-list-container">
                                    <div class="field-list-header">
                                        <label data-i18n="ignored_fields_label">Ignored Fields:</label>
                                        <button id="add-field-button" class="add-field-button" data-i18n="add_field_button">
                                            <span class="button-icon">‚ûï</span>
                                            <span class="button-text">Add Field</span>
                                        </button>
                                    </div>
                                    
                                    <div id="ignored-fields-list" class="ignored-fields-list">
                                        <!-- Dynamic field list will be populated here -->
                                    </div>
                                    
                                    <div class="field-input-container" id="field-input-container" style="display: none;">
                                        <input type="text" id="new-field-input" class="new-field-input" 
                                               data-i18n-placeholder="field_name_placeholder" 
                                               maxlength="100" autocomplete="off" autocorrect="off" 
                                               autocapitalize="off" spellcheck="false">
                                        <div class="field-input-buttons">
                                            <button id="confirm-add-field" class="confirm-button" data-i18n="confirm_button">‚úì</button>
                                            <button id="cancel-add-field" class="cancel-button" data-i18n="cancel_field_button">‚úó</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="field-actions">
                                    <button id="reset-fields-button" class="secondary-button" data-i18n="reset_to_default_button">
                                        <span class="button-icon">üîÑ</span>
                                        <span class="button-text">Reset to Default</span>
                                    </button>
                                </div>
                            </section>
                        </div>

                        <!-- Right Panel: Icon Examples and Explanation -->
                        <div class="settings-right-panel">
                            <section class="status-icons-section">
                                <h3 data-i18n="status_icons_title">Profile Status Icons</h3>
                                <div class="separator"></div>
                                <p class="section-description" data-i18n="status_icons_description">
                                    Understanding profile comparison results:
                                </p>
                                
                                <div class="status-icon-list">
                                    <div class="status-icon-item">
                                        <span class="status-icon">‚úÖ</span>
                                        <span class="status-text" data-i18n="full_match_title">Complete Match</span>
                                    </div>
                                    <div class="status-icon-item">
                                        <span class="status-icon">üîÑ</span>
                                        <span class="status-text" data-i18n="partial_match_title">Partial Match</span>
                                    </div>
                                    <div class="status-icon-item">
                                        <span class="status-icon">‚ùå</span>
                                        <span class="status-text" data-i18n="error_status_title">Error</span>
                                    </div>
                                    <div class="status-icon-item">
                                        <span class="status-icon">&nbsp;</span>
                                        <span class="status-text" data-i18n="no_match_title">No Match</span>
                                    </div>
                                </div>
                            </section>
                            
                        </div>
                    </div>

                    <!-- Bottom Section: Action Buttons -->
                    <div class="settings-bottom-section">
                        <div class="settings-controls">
                            <button id="save-settings-button" class="primary-button" data-i18n="save_settings_button">
                                <span class="button-icon">üíæ</span>
                                <span class="button-text">Save Settings</span>
                            </button>
                            <button id="minimize-button" class="secondary-button" data-i18n="minimize_button">
                                <span class="button-icon">üóï</span>
                                <span class="button-text">Minimize</span>
                            </button>
                            <button id="exit-button" class="danger-button" data-i18n="exit_button">
                                <span class="button-icon">üö™</span>
                                <span class="button-text">Exit</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Save As Modal -->
    <div id="save-as-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="save_as_modal_title">Save As New Profile</h3>
                <button id="modal-close-button" class="modal-close-button">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="form-group">
                    <label for="profile-name-input" data-i18n="profile_name_label">Profile Name:</label>
                    <input type="text" id="profile-name-input" class="profile-name-input" data-i18n-placeholder="profile_name_placeholder" maxlength="255" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
                    <div class="input-hint" data-i18n="profile_name_hint">Profile names cannot contain special characters: / \ : * ? " &lt; &gt; |</div>
                </div>
                
                <div class="form-group">
                    <label data-i18n="preview_filename_label">Preview:</label>
                    <div id="filename-preview" class="filename-preview">profile-name.settings.json</div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="modal-cancel-button" class="secondary-button" data-i18n="cancel_button">Cancel</button>
                <button id="modal-save-button" class="primary-button" data-i18n="save_button">Save</button>
            </div>
        </div>
    </div>
    
    <!-- Loading overlay -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <div class="loading-text" data-i18n="saving_settings">Saving settings...</div>
    </div>
    
    <!-- Toast notifications -->
    <div id="toast-container" class="toast-container"></div>
    
    <!-- Vite Entry Point -->
    <script type="module" src="/src/main.js"></script>
</body>
</html>