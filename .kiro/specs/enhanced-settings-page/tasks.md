# 实现计划

- [ ] 1. 扩展后端Tauri API支持Profile管理
  - 在ConfigService中添加获取所有Profile信息的方法
  - 实现读取指定Profile内容的API
  - 创建保存Profile内容的API方法
  - 添加创建新Profile的功能
  - 实现Profile名称验证逻辑
  - 为所有新增方法编写单元测试
  - _需求: 1.2, 2.1, 3.1, 4.1, 5.1_

- [ ] 2. 实现JSON内容验证框架
  - 创建基础的JSON格式验证器
  - 设计可扩展的验证接口以支持未来扩展
  - 实现验证错误详细信息的数据结构
  - 为验证框架编写单元测试覆盖各种JSON错误场景
  - _需求: 4.2, 4.3, 5.4, 5.5, 7.1, 7.2_

- [ ] 3. 重构设置页面HTML结构为左右分栏布局
  - 修改settings.html创建左侧导航容器和右侧内容容器
  - 添加Profile标题显示区域到右侧内容区顶部
  - 创建保存和另存为按钮的UI结构
  - 添加模态对话框的HTML结构用于另存为功能
  - _需求: 1.1, 2.4, 3.4, 5.1_

- [ ] 4. 实现左侧导航组件的核心功能
  - [ ] 4.1 创建NavigationPanel类管理导航状态和渲染
    - 实现Profile列表的动态加载和渲染
    - 创建导航项点击事件处理逻辑
    - 实现Current和Profile项的区分显示
    - _需求: 1.2, 1.3_

  - [ ] 4.2 添加导航项选中状态的视觉效果
    - 实现选中项的明显视觉区分（背景色、边框等）
    - 创建选中状态切换的动画效果
    - 确保选中状态在页面刷新后保持
    - _需求: 1.4_

- [ ] 5. 开发右侧内容编辑区域的功能
  - [ ] 5.1 创建ContentEditor类管理编辑状态
    - 实现Profile内容的加载和显示逻辑
    - 创建文本编辑区域的变化监听
    - 实现编辑状态跟踪（是否有未保存更改）
    - _需求: 2.1, 2.2, 2.3, 3.1, 3.2, 3.3_

  - [ ] 5.2 实现Profile标题显示组件
    - 创建ProfileHeader类显示当前编辑的Profile名称
    - 在Current和具体Profile名称之间正确切换显示
    - 确保标题显示清晰防止用户操作错误
    - _需求: 2.4, 3.4_

- [ ] 6. 实现保存功能的完整流程
  - 集成JSON验证到保存流程中
  - 创建保存成功和失败的UI提示机制
  - 实现保存按钮的点击处理逻辑
  - 添加保存过程的加载状态显示
  - 为保存功能编写集成测试
  - _需求: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 7. 开发另存为功能的模态对话框
  - [ ] 7.1 创建SaveAsModal类管理对话框状态
    - 实现模态对话框的显示和隐藏逻辑
    - 创建Profile名称输入和验证界面
    - 添加特殊字符限制的实时验证提示
    - _需求: 5.1, 5.2_

  - [ ] 7.2 实现另存为功能的核心逻辑
    - 集成Profile名称验证和JSON内容验证
    - 创建新Profile后更新左侧导航列表
    - 实现另存为成功和失败的UI反馈
    - 添加文件名格式预览功能
    - _需求: 5.3, 5.4, 5.5, 5.6, 5.7_

- [ ] 8. 集成About页面到新的导航结构中
  - 在左侧导航底部添加About项目
  - 实现About项的点击处理显示原设置页面内容
  - 确保About项在页面底部正确对齐
  - _需求: 6.1, 6.2_

- [ ] 9. 扩展国际化支持新的界面元素
  - 为所有新增的UI文本添加国际化键值
  - 更新中英文翻译文件包含新的界面文本
  - 确保新组件正确使用国际化系统
  - 测试语言切换对新界面元素的影响

- [ ] 10. 更新CSS样式实现响应式左右分栏布局
  - 创建左侧导航面板的样式和选中状态效果
  - 设计右侧编辑区域的布局和Profile标题样式
  - 实现模态对话框的样式和动画效果
  - 确保在不同屏幕尺寸下的响应式适配
  - 保持与现有设置页面风格的一致性

- [ ] 11. 编写端到端集成测试验证完整工作流
  - 测试从Current到Profile的切换流程
  - 验证编辑、保存、另存为的完整功能链路
  - 测试错误场景的处理（无效JSON、文件权限等）
  - 确保所有UI交互按预期工作

- [ ] 12. 优化性能和用户体验细节
  - 实现Profile内容的懒加载优化
  - 添加文件操作的加载指示器
  - 优化大JSON文件的编辑性能
  - 实现未保存更改时的切换确认提示