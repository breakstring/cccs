# 需求文档

## 简介

增强设置页面功能，将现有的设置页面重新设计为具有左侧导航和右侧内容区域的布局。新的设计将支持多个Profile的管理，允许用户查看、编辑和保存不同的设置配置，并提供更好的用户体验和功能组织。

## 需求

### 需求 1：左侧导航布局

**用户故事：** 作为用户，我希望在设置页面的左侧看到一个导航列表，这样我可以轻松地在不同的设置部分之间切换。

#### 验收标准

1. 当用户打开设置页面时，系统应显示左侧导航列表和右侧内容区域的布局
2. 当系统加载设置页面时，左侧导航列表应自上而下显示 "Current" 以及所有可用的 Profile
3. 当用户首次打开页面时，系统应默认选中 "Current" 项
4. 当菜单项处于选中状态时，系统应提供明显的视觉区分（如背景色变化、边框高亮等）以增强用户体验

### 需求 2：Current设置管理

**用户故事：** 作为用户，我希望能够查看和编辑当前的 settings.json 文件内容，这样我可以修改当前的应用设置。

#### 验收标准

1. 当用户选择 "Current" 导航项时，系统应在右侧显示当前 settings.json 文件的内容
2. 当系统显示设置内容时，应使用多行文本编辑区域展示 JSON 内容
3. 当用户修改文本内容时，系统应允许实时编辑
4. 当显示 Current 设置时，右侧编辑区域顶部应明确标示 "Current" 以防止用户操作错误

### 需求 3：Profile设置管理

**用户故事：** 作为用户，我希望能够查看和编辑不同的 Profile 设置文件，这样我可以管理多个设置配置。

#### 验收标准

1. 当用户点击任意 Profile 导航项时，系统应在右侧加载并显示对应的设置文件内容
2. 当系统显示 Profile 内容时，应使用多行文本编辑区域展示 JSON 内容
3. 当用户修改 Profile 内容时，系统应允许实时编辑
4. 当显示特定 Profile 设置时，右侧编辑区域顶部应明确标示当前 Profile 的名称以防止用户操作错误

### 需求 4：保存功能

**用户故事：** 作为用户，我希望能够保存我对设置文件的修改，这样我的更改可以持久化。

#### 验收标准

1. 当用户点击"保存"按钮时，系统应将当前编辑的内容保存到对应的文件（settings.json 或 xxx.settings.json）
2. 当系统执行保存操作前，应验证内容是否为合规的 JSON 格式
3. 如果 JSON 格式无效，那么系统应显示错误提示并阻止保存
4. 当保存成功时，系统应显示成功的 UI 提示
5. 当保存失败时，系统应显示失败的 UI 提示

### 需求 5：另存为功能

**用户故事：** 作为用户，我希望能够将当前编辑的设置另存为新的 Profile，这样我可以创建和管理多个设置配置。

#### 验收标准

1. 当用户点击"另存为..."按钮时，系统应弹出提示框让用户输入新的 Profile 名字
2. 当显示提示框时，系统应提示用户 Profile 名字不能包含特殊字符
3. 当显示提示框时，系统应显示最终保存的文件名格式预览
4. 当用户输入 Profile 名字并确认时，系统应验证内容是否为合规的 JSON 格式
5. 如果 JSON 格式无效，那么系统应显示错误提示并阻止保存
6. 当另存为成功时，系统应显示成功的 UI 提示并更新左侧导航列表
7. 当另存为失败时，系统应显示失败的 UI 提示

### 需求 6：About页面集成

**用户故事：** 作为用户，我希望能够访问关于信息，这样我可以了解应用的相关信息。

#### 验收标准

1. 当系统显示左侧导航列表时，应在最底端（页面下对齐位置）放置一个 "About" 项
2. 当用户点击 "About" 项时，系统应在右侧内容区域显示原有设置页面的内容

### 需求 7：JSON内容验证框架

**用户故事：** 作为开发者，我希望系统具有可扩展的内容验证机制，这样未来可以方便地添加更多的验证逻辑。

#### 验收标准

1. 当系统设计验证机制时，应预留扩展点以支持未来添加其他验证逻辑
2. 当前阶段仅需实现 JSON 格式验证，但架构应支持添加更多验证规则